//>>built
require({cache:{"url:dojorama/ui/release/widget/template/ReleaseUpdateFormWidget.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressNode"\x3e\x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"mainNode" style\x3d"display:none"\x3e\n        \x3ch2 data-dojo-attach-point\x3d"titleNode"\x3e\x3c/h2\x3e\x3chr /\x3e\n        \x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e'}});
define("dojorama/ui/release/widget/ReleaseUpdateFormWidget","dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin ../../_global/mixin/_ToggleMixin dojo/_base/lang dojo/aspect dojo/topic dojo/when dojo/dom-style ../../_global/widget/ProgressWidget ./snippet/ReleaseFormSnippet dojo/text!./template/ReleaseUpdateFormWidget.html dojo/i18n!./nls/ReleaseUpdateFormWidget".split(" "),function(c,f,g,h,d,e,a,k,l,m,n,p,q){return c([f,g,h],{store:null,releaseId:null,templateString:p,formSnippet:null,progressWidget:null,
constructor:function(a){this.releaseId=a.releaseId},postscript:function(a){this.inherited(arguments);this.store=a.store},postCreate:function(){this.inherited(arguments);this.hide();this.progressWidget=new m({},this.progressNode)},startup:function(){this.inherited(arguments);this.progressWidget.startup();this.progressWidget.show();var c=this.store.get(this.releaseId);k(c,d.hitch(this,function(b){b?(this.progressWidget.hide(),l.set(this.mainNode,"display","block"),this.formSnippet=new n({releaseModel:b},
this.formNode),this.own(e.before(this.formSnippet,"onSubmit",d.hitch(this,function(){a.publish("ui/release/widget/ReleaseUpdateFormWidget/submit",{})}))),this.own(e.after(b,"save",d.hitch(this,function(c){c.then(d.hitch(this,function(){this.titleNode.innerHTML=b.get("title");a.publish("ui/release/widget/ReleaseUpdateFormWidget/update-ok",{model:b,notification:{message:q.notificationUpdateOk,type:"ok"}})}));return c}))),this.titleNode.innerHTML=b.get("title"),this.formSnippet.startup(),this.formSnippet.show(),
a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-ok",b)):a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-not-found",{})}),d.hitch(this,function(b){404===b.response.status?a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-not-found",{}):a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-error",{})}))}})});
//@ sourceMappingURL=ReleaseUpdateFormWidget.js.map