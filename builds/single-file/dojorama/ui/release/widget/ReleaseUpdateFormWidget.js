//>>built
require({cache:{"url:dojorama/ui/release/widget/template/ReleaseUpdateFormWidget.html":'<div>\n    <div data-dojo-attach-point="progressNode"></div>\n    \n    <div data-dojo-attach-point="mainNode" style="display:none">\n        <h2 data-dojo-attach-point="titleNode"></h2><hr />\n        <div data-dojo-attach-point="formNode"></div>\n    </div>\n</div>'}});
define("dojorama/ui/release/widget/ReleaseUpdateFormWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,../../_global/mixin/_ToggleMixin,dojo/_base/lang,dojo/aspect,dojo/topic,dojo/when,dojo/dom-style,../../_global/widget/ProgressWidget,./snippet/ReleaseFormSnippet,dojo/text!./template/ReleaseUpdateFormWidget.html,dojo/i18n!./nls/ReleaseUpdateFormWidget".split(","),function(c,f,g,h,d,e,a,i,j,k,l,m,n){return c([f,g,h],{store:null,releaseId:null,templateString:m,formSnippet:null,progressWidget:null,
constructor:function(a){this.releaseId=a.releaseId},postscript:function(a){this.inherited(arguments);this.store=a.store},postCreate:function(){this.inherited(arguments);this.hide();this.progressWidget=new k({},this.progressNode)},startup:function(){this.inherited(arguments);this.progressWidget.startup();this.progressWidget.show();var c=this.store.get(this.releaseId);i(c,d.hitch(this,function(b){b?(this.progressWidget.hide(),j.set(this.mainNode,"display","block"),this.formSnippet=new l({releaseModel:b},
this.formNode),this.own(e.before(this.formSnippet,"onSubmit",d.hitch(this,function(){a.publish("ui/release/widget/ReleaseUpdateFormWidget/submit",{})}))),this.own(e.after(b,"save",d.hitch(this,function(c){c.then(d.hitch(this,function(){this.titleNode.innerHTML=b.get("title");a.publish("ui/release/widget/ReleaseUpdateFormWidget/update-ok",{model:b,notification:{message:n.notificationUpdateOk,type:"ok"}})}));return c}))),this.titleNode.innerHTML=b.get("title"),this.formSnippet.startup(),this.formSnippet.show(),
a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-ok",b)):a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-not-found",{})}),d.hitch(this,function(b){404===b.response.status?a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-not-found",{}):a.publish("ui/release/widget/ReleaseUpdateFormWidget/load-error",{})}))}})});