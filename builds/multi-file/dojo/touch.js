//>>built
define("dojo/touch","./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(E,n,F,G,p,d,q,l,r,b){function g(a,b,c){return s&&c?function(a,f){return d(a,c,f)}:m?function(t,f){var c=d(t,b,f),e=d(t,a,function(a){(!h||(new Date).getTime()>h+1E3)&&f.call(this,a)});return{remove:function(){c.remove();e.remove()}}}:function(b,f){return d(b,a,f)}}function H(a){do if(a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function u(a,e,g){if(c=
!a.target.disabled&&H(a.target))v=a.target,w=a.touches?a.touches[0].pageX:a.clientX,x=a.touches?a.touches[0].pageY:a.clientY,y=("object"==typeof c?c.x:"number"==typeof c?c:0)||4,z=("object"==typeof c?c.y:"number"==typeof c?c:0)||4,A||(A=!0,b.doc.addEventListener(e,function(a){c=c&&a.target==v&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-w)<=y&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-x)<=z},!0),b.doc.addEventListener(g,function(a){if(c){B=(new Date).getTime();var f=a.target;"LABEL"===
f.tagName&&(f=F.byId(f.getAttribute("for"))||f);setTimeout(function(){d.emit(f,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),a=function(a){b.doc.addEventListener(a,function(a){!a._dojo_click&&((new Date).getTime()<=B+1E3&&!("INPUT"==a.target.tagName&&G.contains(a.target,"dijitOffScreen")))&&(a.stopImmediatePropagation(),("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&a.preventDefault())},!0)},a("click"),a("mousedown"),a("mouseup"))}
var m=q("touch"),k=5>q("ios"),s=navigator.msPointerEnabled,A,c,v,w,x,y,z,B,h,C,D,e;m&&(s?r(function(){b.doc.addEventListener("MSPointerDown",function(a){u(a,"MSPointerMove","MSPointerUp")},!0)}):(r(function(){e=b.body();b.doc.addEventListener("touchstart",function(a){h=(new Date).getTime();var b=e;e=a.target;d.emit(b,"dojotouchout",{relatedTarget:e,bubbles:!0});d.emit(e,"dojotouchover",{relatedTarget:b,bubbles:!0});u(a,"touchmove","touchend")},!0);d(b.doc,"touchmove",function(a){h=(new Date).getTime();
D=a;if(a=b.doc.elementFromPoint(a.pageX-(k?0:b.global.pageXOffset),a.pageY-(k?0:b.global.pageYOffset)))e!==a&&(d.emit(e,"dojotouchout",{relatedTarget:a,bubbles:!0}),d.emit(a,"dojotouchover",{relatedTarget:e,bubbles:!0}),e=a),d.emit(a,"dojotouchmove",{bubbles:!0})});d(b.doc,"touchend",function(a){h=(new Date).getTime();var c=b.doc.elementFromPoint(a.pageX-(k?0:b.global.pageXOffset),a.pageY-(k?0:b.global.pageYOffset))||b.body();d.emit(c,"dojotouchend",p.delegate(a,{bubbles:!0}))})}),C=function(a,b){return d(a,
"dojotouchmove",function(a){b(p.delegate(D,{target:a.target,stopPropagation:function(){a.stopPropagation()}}))})}));n={press:g("mousedown","touchstart","MSPointerDown"),move:g("mousemove",C,"MSPointerMove"),release:g("mouseup","dojotouchend","MSPointerUp"),cancel:g(l.leave,"touchcancel",m?"MSPointerCancel":null),over:g("mouseover","dojotouchover","MSPointerOver"),out:g("mouseout","dojotouchout","MSPointerOut"),enter:l._eventHandler(g("mouseover","dojotouchover","MSPointerOver")),leave:l._eventHandler(g("mouseout",
"dojotouchout","MSPointerOut"))};return E.touch=n});