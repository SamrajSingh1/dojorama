//>>built
require({cache:{"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'<div class="well well-large player">\n    <h2>Play &amp; Browse</h2>\n    \n    <div class="btn-group">\n        <a class="btn" href="#" data-dojo-attach-point="prevNode"><i class="icon-backward"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="playNode"><i class="icon-play"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="nextNode"><i class="icon-forward"></i></a>\n    </div>\n    \n    <div data-dojo-attach-point="infoNode" class="info">\n        Track <span data-dojo-attach-point="trackNrNode"></span> of <span data-dojo-attach-point="numTracksNode"></span>\n        <span data-dojo-attach-point="positionOuterNode" style="display:none">\n            // <span data-dojo-attach-point="positionNode"></span>\n        </span>\n        <h2 class="track-title" data-dojo-attach-point="trackTitleNode">Title</h2>\n        <\!--<p class="track-artist" data-dojo-attach-point="trackArtistNode">Artist</p>--\>\n    </div>\n    \n    <p><a href="http://www.kompakt.fm/releases/we_are_really_sorry_880319606335">We are really sorry</a>! That\'s right, thanks <a href="http://www.facebook.com/pages/Pachanga-Boys-Hippie-Dance/315216318504660">Pachanga Boys</a></p>\n</div>'}});
define("dojorama/ui/_global/widget/PlayerWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/dom-style,dojo/dom-class,dojo/on,dojo/query,dojo/_base/lang,dojo/_base/array,dojo-sm2-playlist/Playlist,dojo/text!./template/PlayerWidget.html".split(","),function(j,o,p,q,r,s,h,c,t,a,u,v,w){return j([o,p,q,r],{session:null,templateString:w,constructor:function(a){this.session=a.session},postCreate:function(){this.inherited(arguments);var b=this.session.get("playlist"),
i=t("i",this.playNode)[0],m=function(){h.remove(i,"icon-pause");h.add(i,"icon-play")},d=function(){h.remove(i,"icon-play");h.add(i,"icon-pause")},g=function(){this.trackNrNode.innerHTML=b.getCurrentPosition();this.numTracksNode.innerHTML=b.getTracks().length;this.trackTitleNode.innerHTML=b.getCurrentTrack().title},n=function(){s.set(this.positionOuterNode,"display","inline")},j=function(){var a=this.positionNode,e=Math.round(b.getCurrentSound().position/1E3),e=parseInt(e,10),c=3600<=e?Math.floor(e/
3600):0,d=60<=e-3600*c?Math.floor((e-3600*c)/60):0,f=e-3600*c-60*d,f=10>f?"0"+f:f;a.innerHTML=3600>e?d+":"+f:c+":"+(10>d?"0"+d:d)+":"+f},l=function(){this.positionNode.innerHTML="0:00"};b||(b=new v,b.onready(function(){b.addTrack({title:"Pachanga Voice",artist:"Pachanga Boys",cover:""},{id:"pachangaVoice",url:"http://media.kompakt.fm/dojorama/pachanga-boys-pachanga-voice.mp3"});b.addTrack({title:"The River",artist:"Pachanga Boys",cover:""},{id:"theRiver",url:"http://media.kompakt.fm/dojorama/pachanga-boys-the-river.mp3"});
b.addTrack({title:"Vampiros Hermanos",artist:"Pachanga Boys",cover:""},{id:"vampirosHermanos",url:"http://media.kompakt.fm/dojorama/pachanga-boys-vampiros-hermanos.mp3"});b.addTrack({title:"Fiesta Forever (Reprise)",artist:"Pachanga Boys",cover:""},{id:"fiestaForever",url:"http://media.kompakt.fm/dojorama/pachanga-boys-fiesta-forever.mp3"})}),this.session.set("playlist",b));b.onready(a.hitch(this,function(){b.isPlaying()?(a.hitch(this,d)(),a.hitch(this,n)()):a.hitch(this,m)();a.hitch(this,g)()}));
u.forEach(b.getTracks(),a.hitch(this,function(k){this.own(c(k,"onplay",a.hitch(this,function(){a.hitch(this,n)();a.hitch(this,l)()})));this.own(c(k,"onfinish",a.hitch(this,function(){b.next();a.hitch(this,d)();a.hitch(this,g)()})));this.own(c(k,"whileplaying",a.hitch(this,function(){a.hitch(this,j)()})))}));this.own(c(this.playNode,"click",a.hitch(this,function(c){c.preventDefault();b.isPlaying()?(b.pause(),a.hitch(this,m)()):(b.play(),a.hitch(this,d)(),a.hitch(this,g)())})));this.own(c(this.prevNode,
"click",a.hitch(this,function(c){c.preventDefault();b.previous();a.hitch(this,d)();a.hitch(this,g)();a.hitch(this,l)()})));this.own(c(this.nextNode,"click",a.hitch(this,function(c){c.preventDefault();b.next();a.hitch(this,d)();a.hitch(this,g)();a.hitch(this,l)()})))}})});