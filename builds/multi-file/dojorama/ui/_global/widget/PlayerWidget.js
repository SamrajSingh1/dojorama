//>>built
require({cache:{"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'<div class="well well-large">\n    <p>Listen to some music while you play with this app</p>\n    \n    <div class="btn-group">\n        <a class="btn" href="#" data-dojo-attach-point="prevNode"><i class="icon-backward"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="playNode"><i class="icon-play"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="nextNode"><i class="icon-forward"></i></a>\n    </div>\n    \n    <div data-dojo-attach-point="infoNode">\n        <h2 class="track-title" data-dojo-attach-point="trackTitleNode">Title</h2>\n        <p class="track-artist" data-dojo-attach-point="trackArtistNode">Artist</p>\n    </div>\n</div>'}});
define("dojorama/ui/_global/widget/PlayerWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/dom-style,dojo/dom-class,dojo/on,dojo/query,dojo/_base/lang,dojo/_base/array,dojo-sm2-playlist/Playlist,dojo/text!./template/PlayerWidget.html".split(","),function(j,k,l,m,n,s,f,g,o,b,p,q,r){return j([k,l,m,n],{session:null,templateString:r,constructor:function(a){this.session=a.session},postCreate:function(){this.inherited(arguments);var a=this.session.get("playlist"),
h=o("i",this.playNode)[0],i=function(){f.remove(h,"icon-pause");f.add(h,"icon-play")},d=function(){f.remove(h,"icon-play");f.add(h,"icon-pause")},e=function(){this.trackTitleNode.innerHTML=a.getCurrentTrack().title;this.trackArtistNode.innerHTML=a.getCurrentTrack().artist};a||(a=new q,a.onready(function(){a.addTrack({title:"The River",artist:"Pachanga Boys",cover:""},{id:"theRiver",url:"http://sirprize.me/chrigu/dojorama/pachanga-boys-the-river.mp3"});a.addTrack({title:"Is this power",artist:"The Field",
cover:""},{id:"isThisPower",url:"http://sirprize.me/chrigu/dojorama/the-field-is-this-power.mp3"});a.addTrack({title:"Geffen (Philipp Gorbatchev Remix)",artist:"Barnt",cover:""},{id:"geffen",url:"http://sirprize.me/chrigu/dojorama/barnt-geffen-philipp-gorbatchev-remix.mp3"})}),this.session.set("playlist",a));a.onready(b.hitch(this,function(){a.isPlaying()?b.hitch(this,d)():b.hitch(this,i)();b.hitch(this,e)()}));p.forEach(a.getTracks(),b.hitch(this,function(c){this.own(g(c,"onfinish",function(){a.next();
b.hitch(this,d)();b.hitch(this,e)()}))}));this.own(g(this.playNode,"click",b.hitch(this,function(c){c.preventDefault();a.isPlaying()?(a.pause(),b.hitch(this,i)()):(a.play(),b.hitch(this,d)(),b.hitch(this,e)())})));this.own(g(this.prevNode,"click",b.hitch(this,function(c){c.preventDefault();a.previous();b.hitch(this,d)();b.hitch(this,e)()})));this.own(g(this.nextNode,"click",b.hitch(this,function(c){c.preventDefault();a.next();b.hitch(this,d)();b.hitch(this,e)()})))}})});