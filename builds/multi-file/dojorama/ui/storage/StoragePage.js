//>>built
require({cache:{"url:dojorama/ui/storage/template/StoragePage.html":'<div>\n    <div data-dojo-attach-point="navigationNode"></div>\n\n    <div data-dojo-attach-point="mainNode">\n        <h1>Storage</h1>\n        <\!--<button class="btn" data-dojo-attach-event="onclick:_onNewObjClick">New Obj</button>\n        <button class="btn" data-dojo-attach-event="onclick:_onRemObjClick">Remove Obj</button>--\>\n        <button class="btn" data-dojo-attach-event="onclick:_onClearClick">Clear</button>\n        \n        <hr />\n        \n        <table class="table table-striped local-storage-data">\n            <thead>\n                <th>Id</th>\n                <th>Data</th>\n            </thead>\n            <tbody data-dojo-attach-point="tbodyNode"></tbody>\n        </table>\n    </div>\n    \n    <div data-dojo-attach-point="playerNode"></div>\n    <div data-dojo-attach-point="footerNode"></div>\n</div>',
"url:dojorama/ui/storage/css/StoragePage.css":"body {background: white;}"}});
define("dojorama/ui/storage/StoragePage","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_AppAware,dojomat/_StateAware,../_global/mixin/_NavigationMixin,../_global/mixin/_PlayerMixin,../_global/mixin/_FooterMixin,dojo-local-storage/LocalStorage,dojo/store/Observable,dojo/_base/array,dojo/_base/lang,dojo/_base/json,dojo/text!./template/StoragePage.html,./widget/RowWidget,dojo/text!./css/StoragePage.css".split(","),function(d,e,f,g,h,i,j,k,l,m,n,c,o,p,q,r){return d([e,f,g,h,i,j,
k],{router:null,request:null,session:null,templateString:p,store:null,observer:null,result:null,itemWidgets:[],constructor:function(a){this.router=a.router;this.request=a.request;this.session=a.session;this.store=m(new l)},postCreate:function(){this.inherited(arguments);this.setCss(r,"all");this.setTitle("Storage")},startup:function(){this.inherited(arguments);this.showNavigation();this.showFooter();this.fetchItems()},fetchItems:function(){this.result=this.store.query({},{sort:[{attribute:"id",descending:!1}]});
this.destroyItemWidgets();this.observer&&this.observer.remove&&this.observer.remove();this.observer=this.result.observe(c.hitch(this,function(){this.fetchItems()},!0));this.result.forEach(c.hitch(this,function(a){var b=this.itemWidgets.length;this.itemWidgets[b]=(new q({})).placeAt(this.tbodyNode);this.itemWidgets[b].set("id",this.store.getIdentity(a));this.itemWidgets[b].set("data",o.toJson(a));this.itemWidgets[b].startup()}))},destroyItemWidgets:function(){n.forEach(this.itemWidgets,c.hitch(this,
function(a){a.destroy()}));this.itemWidgets=[]},_onClearClick:function(){localStorage.clear();this.destroyItemWidgets()}})});