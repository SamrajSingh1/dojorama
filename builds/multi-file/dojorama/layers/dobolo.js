//>>built
require({cache:{"dobolo/Alert":function(){require({cache:{"url:dobolo/templates/Alert.html":'<div class="alert" data-dojo-attach-point="containerNode">\n    <button data-dojo-attach-point="closeNode" class="close">&times;</button>\n    <div data-dojo-attach-point="contentNode"></div>\n</div>'}});define("dobolo/Alert","./Util,dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojo/query,dojo/_base/lang,dojo/on,dojo/dom-attr,dojo/dom-class,dojo/dom-style,dojo/text!./templates/Alert.html".split(","),
function(d,f,e,g,b,a,c,l,h,k,j){return f([e,g],{templateString:j,closable:!0,postCreate:function(){this.inherited(arguments);l.get(this.srcNodeRef,"data-dojo-type")&&(k.set(this.closeNode,"display","none"),k.set(this.contentNode,"display","none"));b("> *",this.domNode).forEach(a.hitch(this,function(b){h.contains(b,"close")&&this.own(c(b,"click",a.hitch(this,function(a){a.preventDefault();this.close()})))}))},close:function(){var b={bubbles:!0,cancelable:!0},k=d.transition&&h.contains(this.domNode,
"fade"),e=function(){this.emit("closed",b);this.destroyRecursive()};this.emit("close",b);h.remove(this.domNode,"in");k?c(this.domNode,d.transition.end,a.hitch(this,e)()):a.hitch(this,e)()},_setContentAttr:function(a){this.contentNode.innerHTML=a},_setClassAttr:function(a){h.add(this.domNode,a)},_setClosableAttr:function(a){k.set(this.closeNode,"display",a?"block":"none")}})})},"dobolo/Util":function(){define("dobolo/Util",[],function(){return{transition:function(){var d;a:{d=document.createElement("bootstrap");
var f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},e;for(e in f)if(void 0!==d.style[e]){d=f[e];break a}d=void 0}return d&&{end:d}}(),throttle:function(d,f,e){var g=!0;return function(){g&&(g=!1,d.apply(e||d,arguments),setTimeout(function(){g=!0},f))}}}})},"url:dobolo/templates/Alert.html":'<div class="alert" data-dojo-attach-point="containerNode">\n    <button data-dojo-attach-point="closeNode" class="close">&times;</button>\n    <div data-dojo-attach-point="contentNode"></div>\n</div>',
"dobolo/Button":function(){define("dobolo/Button","dojo/_base/declare,dojo-form-controls/Button,mijit/registry,dojo/_base/array,dojo/_base/lang,dojo/dom-class,dojo/dom-attr,dojo/domReady!".split(","),function(d,f,e,g,b,a,c){return d([f],{loadingText:"Loading...",resetText:"Loaded",mode:null,group:null,postCreate:function(){this.inherited(arguments);("radio"===this.mode||"checkbox"===this.mode)&&this.own(this.on("click",b.hitch(this,function(){this.toggle()})))},loading:function(){this.domNode.innerHTML=
this.loadingText;a.add(this.domNode,"disabled");c.set(this.domNode,"disabled","disabled")},reset:function(){this.domNode.innerHTML=this.resetText;a.remove(this.domNode,"disabled");c.remove(this.domNode,"disabled")},toggle:function(){"radio"===this.mode&&this.deactivateGroup();a.toggle(this.domNode,"active")},deactivateGroup:function(){g.forEach(e.toArray(),b.hitch(this,function(b){"radio"===b.get("mode")&&b.get("group")===this.group&&a.remove(b.domNode,"active")}))}})})},"dobolo/DatepickerInput":function(){define("dobolo/DatepickerInput",
"dojo/_base/declare,dojo/_base/window,dojo/_base/lang,dojo/date/locale,dojo/date/stamp,dojo/on,dojo/dom-geometry,dojo-form-controls/MappedTextbox,./Calendar".split(","),function(d,f,e,g,b,a,c,l,h){return d([l],{displayFormat:"full",weekStart:0,_setWeekStartAttr:function(a){this._set("weekStart",a)},_parseValue:function(a){return a instanceof Date?a:a?b.fromISOString(a):null},_serializeValue:function(a){return a instanceof Date?b.toISOString(a,{selector:"date"}):""},_formatValue:function(a){var b=
this.get("displayFormat");return a instanceof Date?g.format(a,{selector:"date",formatLength:"long"===b||"short"===b||"medium"===b||"full"===b?b:"full"}):""},positionCalendar:function(){var a=c.position(this.domNode,!0);this.calendar.set("posTop",a.y+this.domNode.offsetHeight+"px");this.calendar.set("posLeft",a.x+"px");this.calendar.position()},showCalendar:function(){this.calendar.placeAt(document.body,"last");this.positionCalendar();this.calendar.show()},hideCalendar:function(){this.calendar.hide()},
postCreate:function(){this.inherited(arguments);this.own(this.calendar=new h({weekStart:this.weekStart,date:this.get("value")}));this.own(this.watch("value",e.hitch(this,function(a,b,c){this.calendar.set("date",c)})));this.own(this.calendar.watch("date",e.hitch(this,function(a,b,c){this.set("value",c)})));this.own(a(this.calendar,"show",e.hitch(this,function(){this.emit("show-calendar",{bubbles:!0,cancelable:!0})})));this.own(a(this.calendar,"hide",e.hitch(this,function(){this.emit("hide-calendar",
{bubbles:!0,cancelable:!0})})));this.calendar.startup();this.own(a(f.global,"resize",e.hitch(this,"positionCalendar")));this.own(a(this.domNode,"focus",e.hitch(this,"showCalendar")));this.own(a(this.domNode,"click",e.hitch(this,"showCalendar")));this.own(a(this.domNode,"blur",e.hitch(this,"hideCalendar")));this.own(a(this.domNode,"keydown",e.hitch(this,function(a){(9===a.keyCode||13===a.keyCode)&&this.calendar.hide()})));this.own(a(this.domNode,"keyup",e.hitch(this,function(){this.domNode.value=this._formatValue(this.get("value"))})))}})})},
"dojo-form-controls/MappedTextbox":function(){define("dojo-form-controls/MappedTextbox",["dojo/_base/declare","mijit/_WidgetBase","mijit/_TemplatedMixin","dojo/dom-construct"],function(d,f,e,g){return d([f,e],{templateString:'<input type="text" data-dojo-attach-point="containerNode"/>',name:"",valueNode:null,_setNameAttr:function(b){if(this.valueNode)this.valueNode.name=b;this._set("name",b)},_setValueAttr:function(b){var b=this._parseValue(b),a=this.get("value");if(this.valueNode)this.valueNode.value=
this._serializeValue(b);this.domNode.value=this._formatValue(b);this._set("value",b);if(a!==b)this.onChange(b)},_parseValue:function(b){return b},_serializeValue:function(b){return b},_formatValue:function(b){return b},_attrToDom:function(b,a,c){"name"!==b&&this.inherited(arguments)},onChange:function(){},_getDisplayValueAttr:function(){return this.domNode.value},startup:function(){this.inherited(arguments);this.valueNode=g.create("input",{type:"hidden",name:this.get("name"),value:this._serializeValue(this.get("value"))},
this.domNode,"after")},destroy:function(){g.destroy(this.valueNode);this.inherited(arguments)}})})},"dobolo/Calendar":function(){require({cache:{"url:dobolo/templates/Calendar.html":'<div class="calendar dropdown-menu">\n    <div class="calendar-days">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody></tbody>\n        </table>\n    </div>\n    <div class="calendar-months">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="calendar-years">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'}});
define("dobolo/Calendar","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojo/date,dojo/query,dojo/_base/lang,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/dom-construct,dojo/dom-style,dojo/text!./templates/Calendar.html,dojo/i18n!dojo/cldr/nls/gregorian,dojo/NodeList-dom,dojo/NodeList-traverse".split(","),function(d,f,e,g,b,a,c,l,h,k,j,o,n){var m=[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}];return d([f,
e],{templateString:o,weekStart:0,posTop:0,posLeft:0,viewMode:0,date:new Date,viewDate:new Date,_setPosTop:function(a){this._set("posTop",a)},_setPosLeft:function(a){this._set("posLeft",a)},_setDateAttr:function(a){this._set("date",a);this._created&&this.update(this.get("date"))},_setWeekStartAttr:function(a){this._set("weekStart",a||0);this._created&&this.update(this.get("date"))},postCreate:function(){this.own(c(this.domNode,"mousedown",a.hitch(this,"mousedown")));this.own(c(this.domNode,"click",
function(a){a.stopPropagation();a.preventDefault()}));this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update(this.date);this.showMode()},position:function(){j.set(this.domNode,{left:this.posLeft,top:this.posTop})},show:function(){j.set(this.domNode,"display","block");this.emit("show",{bubbles:!0,cancelable:!0,date:this.date})},hide:function(){j.set(this.domNode,"display","none");this.viewMode=0;this.showMode();this.emit("hide",{bubbles:!0,cancelable:!0,date:this.date})},
update:function(a){var b=new Date;this.date=a instanceof Date?new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0):new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){for(var a=this.weekStart,c="<tr>";a<this.weekStart+7;)c+='<th class="dow">'+n["days-standAlone-narrow"][a++%7]+"</th>";k.place(c+"</tr>",b(".calendar-days thead",this.domNode)[0])},fillMonths:function(){for(var a="",c=0;12>c;)a+='<span class="month" data-dojo-month="'+
c+'">'+n["months-standAlone-abbr"][c++]+"</span>";k.place(a,b(".calendar-months td",this.domNode)[0])},fill:function(){var a,c=[],e=new Date(this.viewDate),d=e.getFullYear(),f=e.getMonth(),h=this.date.valueOf(),e=this.date.getFullYear(),i=new Date(d,f-1,28,0,0,0,0);a=g.getDaysInMonth(i);b(".calendar-days th.switch",this.domNode)[0].innerHTML=n["months-standAlone-wide"][f]+" "+d;i.setDate(a);i.setDate(a-(i.getDay()-this.weekStart+7)%7);var j=new Date(i);j.setDate(j.getDate()+42);for(j=j.valueOf();i.valueOf()<
j;)i.getDay()===this.weekStart&&c.push("<tr>"),a="",i.getMonth()<f?a+=" old":i.getMonth()>f&&(a+=" new"),i.valueOf()===h&&(a+=" active"),c.push('<td class="day'+a+'">'+i.getDate()+"</td>"),i.getDay()===this.weekEnd&&c.push("</tr>"),i.setDate(i.getDate()+1);k.empty(b(".calendar-days tbody",this.domNode)[0]);k.place(c.join(" "),b(".calendar-days tbody",this.domNode)[0]);c=b(".calendar-months",this.domNode);b("th.switch",c[0])[0].innerHTML=d;b("span",c[0]).removeClass("active");e===d&&l.add(b("span",
c[0])[this.date.getMonth()],"active");c="";d=10*parseInt(d/10,10);f=b(".calendar-years",this.domNode);b("th.switch",f[0]).innerHTML=d+"-"+(d+9);f=b("td",f[0]);d-=1;for(h=-1;11>h;h++)c+='<span class="year'+(-1===h||10===h?" old":"")+(e===d?" active":"")+'">'+d+"</span>",d+=1;f[0].innerHTML=c},mousedown:function(a){var c,d;a.stopPropagation();a.preventDefault();c=b(a.target).closest("span, td, th");if(1===c.length)switch(c[0].nodeName.toLowerCase()){case "th":switch(c[0].className){case "switch":this.showMode(1);
break;case "prev":case "next":this.viewDate["set"+m[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+m[this.viewMode].navFnc].call(this.viewDate)+m[this.viewMode].navStep*("prev"===c[0].className?-1:1)),this.fill()}break;case "span":l.contains(c[0],"month")?(a=h.get(c[0],"data-dojo-month"),this.viewDate.setMonth(a)):(c=parseInt(c[0].innerText||c[0].textContent,10)||0,this.viewDate.setFullYear(c));this.showMode(-1);this.fill();break;case "td":l.contains(c[0],"day")&&(d=parseInt(c[0].innerText||
c[0].textContent,10)||1,a=this.viewDate.getMonth(),l.contains(c[0],"old")?a-=1:l.contains(c[0],"new")&&(a+=1),c=this.viewDate.getFullYear(),this.set("date",new Date(c,a,d,0,0,0,0)),this.set("viewDate",new Date(c,a,d,0,0,0,0)),this.fill(),this.hide())}},showMode:function(a){if(a)this.viewMode=Math.max(0,Math.min(2,this.viewMode+a));b(">div",this.domNode).forEach(function(a){j.set(a,"display","none")});b(">div.calendar-"+m[this.viewMode].clsName,this.domNode).forEach(function(a){j.set(a,"display","block")})}})})},
"url:dobolo/templates/Calendar.html":'<div class="calendar dropdown-menu">\n    <div class="calendar-days">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody></tbody>\n        </table>\n    </div>\n    <div class="calendar-months">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="calendar-years">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>',
"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(d,f,e){var g=d.NodeList;f.extend(g,{_buildArrayFromCallback:function(b){for(var a=[],c=0;c<this.length;c++){var d=b.call(this[c],this[c],a);d&&(a=a.concat(d))}return a},_getUniqueAsNodeList:function(b){for(var a=[],c=0,d;d=b[c];c++)1==d.nodeType&&-1==e.indexOf(a,d)&&a.push(d);return this._wrap(a,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(b,a){var c=this._getUniqueAsNodeList(b),
c=a?d._filterResult(c,a):c;return c._stash(this)},_getRelatedUniqueNodes:function(b,a){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(a),b)},children:function(b){return this._getRelatedUniqueNodes(b,function(a){return f._toArray(a.childNodes)})},closest:function(b,a){return this._getRelatedUniqueNodes(null,function(c){do if(d._filterResult([c],b,a).length)return c;while(c!=a&&(c=c.parentNode)&&1==c.nodeType);return null})},parent:function(b){return this._getRelatedUniqueNodes(b,
function(a){return a.parentNode})},parents:function(b){return this._getRelatedUniqueNodes(b,function(a){for(var b=[];a.parentNode;)a=a.parentNode,b.push(a);return b})},siblings:function(b){return this._getRelatedUniqueNodes(b,function(a){for(var b=[],d=a.parentNode&&a.parentNode.childNodes,e=0;e<d.length;e++)d[e]!=a&&b.push(d[e]);return b})},next:function(b){return this._getRelatedUniqueNodes(b,function(a){for(a=a.nextSibling;a&&1!=a.nodeType;)a=a.nextSibling;return a})},nextAll:function(b){return this._getRelatedUniqueNodes(b,
function(a){for(var b=[];a=a.nextSibling;)1==a.nodeType&&b.push(a);return b})},prev:function(b){return this._getRelatedUniqueNodes(b,function(a){for(a=a.previousSibling;a&&1!=a.nodeType;)a=a.previousSibling;return a})},prevAll:function(b){return this._getRelatedUniqueNodes(b,function(a){for(var b=[];a=a.previousSibling;)1==a.nodeType&&b.push(a);return b})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?
[this[this.length-1]]:[],this)},even:function(){return this.filter(function(b,a){return 0!=a%2})},odd:function(){return this.filter(function(b,a){return 0==a%2})}});return g})}}});define("dojorama/layers/dobolo",[],1);