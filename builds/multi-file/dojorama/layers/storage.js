//>>built
require({cache:{"dojorama/ui/storage/widget/RowWidget":function(){define("dojorama/ui/storage/widget/RowWidget",["dojo/_base/declare","mijit/_WidgetBase","mijit/_TemplatedMixin"],function(a,c,d){return a([c,d],{templateString:'<tr><td data-dojo-attach-point="idNode"></td><td data-dojo-attach-point="dataNode"></td></tr>',_setIdAttr:function(a){this.idNode.innerHTML=a;this._set("id",a)},_setDataAttr:function(a){this.dataNode.innerHTML=a;this._set("data",a)}})})},"dojorama/ui/storage/StoragePage":function(){require({cache:{"url:dojorama/ui/storage/template/StoragePage.html":'<div>\n    <div data-dojo-attach-point="navigationNode"></div>\n\n    <div class="container main">\n        <ul data-dojo-attach-point="breadcrumbsNode"></ul>\n        \n        <div data-dojo-attach-point="mainNode">\n            <h1>Storage</h1>\n            <\!--<button class="btn" data-dojo-attach-event="onclick:_onNewObjClick">New Obj</button>\n            <button class="btn" data-dojo-attach-event="onclick:_onRemObjClick">Remove Obj</button>--\>\n            \n            <div class="well well-large">\n                <div style="overflow:auto">\n                    <table class="table table-striped local-storage-data">\n                        <thead>\n                            <th>Id</th>\n                            <th>Data</th>\n                        </thead>\n                        <tbody data-dojo-attach-point="tbodyNode"></tbody>\n                    </table>\n                </div>\n                \n                <button class="btn" data-dojo-attach-event="onclick:_onClearClick">Clear</button>\n            </div>\n        </div>\n    \n        <div data-dojo-attach-point="playerNode"></div>\n    </div>\n    \n    <div data-dojo-attach-point="footerNode"></div>\n</div>',
"url:dojorama/styles/inline/ui/storage/StoragePage.css":"body {background: white;}"}});define("dojorama/ui/storage/StoragePage","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_AppAware,dojomat/_StateAware,../_global/mixin/_NavigationMixin,../_global/mixin/_PlayerMixin,../_global/mixin/_FooterMixin,./mixin/_StorageBreadcrumbsMixin,dojo-local-storage/LocalStorage,dojo/store/Observable,dojo/_base/array,dojo/_base/lang,dojo/_base/json,dojo/text!./template/StoragePage.html,./widget/RowWidget,dojo/text!../../styles/inline/ui/storage/StoragePage.css".split(","),
function(a,c,d,e,g,j,f,i,h,b,m,n,k,l,p,q,r){return a([c,d,e,g,j,f,i,h],{router:null,request:null,session:null,templateString:p,store:null,observer:null,result:null,itemWidgets:[],constructor:function(l){this.router=l.router;this.request=l.request;this.session=l.session;this.store=m(new b)},postCreate:function(){this.inherited(arguments);this.setCss(r,"all");this.setTitle("Storage");this.setStorageIndexBreadcrumbsItems()},startup:function(){this.inherited(arguments);this.showNavigation();this.showFooter();
this.fetchItems();this.showStorageBreadcrumbs()},fetchItems:function(){this.result=this.store.query({},{sort:[{attribute:"id",descending:!1}]});this.destroyItemWidgets();this.observer&&this.observer.remove&&this.observer.remove();this.observer=this.result.observe(k.hitch(this,function(){this.fetchItems()},!0));this.result.forEach(k.hitch(this,function(b){var a=this.itemWidgets.length;this.itemWidgets[a]=(new q({})).placeAt(this.tbodyNode);this.itemWidgets[a].set("id",this.store.getIdentity(b));this.itemWidgets[a].set("data",
l.toJson(b));this.itemWidgets[a].startup()}))},destroyItemWidgets:function(){n.forEach(this.itemWidgets,k.hitch(this,function(b){b.destroy()}));this.itemWidgets=[]},_onClearClick:function(){localStorage.clear();this.destroyItemWidgets()}})})},"dojorama/ui/_global/mixin/_NavigationMixin":function(){define("dojorama/ui/_global/mixin/_NavigationMixin",["dojo/_base/declare","../widget/NavigationWidget"],function(a,c){return a([],{navigationWidget:null,postCreate:function(){this.inherited(arguments);this.navigationWidget=
new c({router:this.router},this.navigationNode)},startup:function(){this.inherited(arguments);this.navigationWidget.startup()},showNavigation:function(){this.navigationWidget.show()}})})},"dojorama/ui/_global/widget/NavigationWidget":function(){require({cache:{"url:dojorama/ui/_global/widget/template/NavigationWidget.html":'<div class="navbar navbar-inverse navbar-fixed-top">\n    <div class="navbar-inner">\n        <div class="container">\n            <\!-- Be sure to leave the brand out there if you want it shown --\>\n            <a class="brand" href="#" data-dojo-attach-point="homeNode"></a>\n            \n            <ul class="nav">\n                <li><a href="#" data-dojo-attach-point="releaseIndexNode"></a></li>\n                <li><a href="#" data-dojo-attach-point="storageNode"></a></li>\n            </ul>\n\n            <\!-- Everything you want hidden at 940px or less, place within here --\>\n            <div class="nav-collapse">\n            <\!-- .nav, .navbar-search, .navbar-form, etc --\>\n            </div>\n            <\!--\n            <ul class="nav pull-right">\n                <li>asdf</li>\n            </ul>\n            --\>\n        </div>\n    </div>\n</div>'}});
define("dojorama/ui/_global/widget/NavigationWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/on,dojo/_base/lang,dojo/text!./template/NavigationWidget.html,dojo/i18n!./nls/NavigationWidget".split(","),function(a,c,d,e,g,j,f,i,h){return a([c,d,e,g],{router:null,templateString:i,constructor:function(b){this.router=b.router},postCreate:function(){var b=function(b,a,c){b.innerHTML=a;b.href=c;this.own(j(b,"click",f.hitch(this,function(b){b.preventDefault();
this.push(c)})))};this.inherited(arguments);this.hide();f.hitch(this,b)(this.homeNode,h.labelHome,this.router.getRoute("home").assemble());f.hitch(this,b)(this.releaseIndexNode,h.labelReleaseIndex,this.router.getRoute("releaseIndex").assemble());f.hitch(this,b)(this.storageNode,h.labelStorage,this.router.getRoute("storage").assemble())}})})},"dojorama/ui/_global/mixin/_ToggleMixin":function(){define("dojorama/ui/_global/mixin/_ToggleMixin",["dojo/_base/declare","dojo/dom-style"],function(a,c){return a([],
{show:function(){c.set(this.domNode,{display:"block"})},hide:function(){c.set(this.domNode,{display:"none"})}})})},"url:dojorama/ui/_global/widget/template/NavigationWidget.html":'<div class="navbar navbar-inverse navbar-fixed-top">\n    <div class="navbar-inner">\n        <div class="container">\n            <\!-- Be sure to leave the brand out there if you want it shown --\>\n            <a class="brand" href="#" data-dojo-attach-point="homeNode"></a>\n            \n            <ul class="nav">\n                <li><a href="#" data-dojo-attach-point="releaseIndexNode"></a></li>\n                <li><a href="#" data-dojo-attach-point="storageNode"></a></li>\n            </ul>\n\n            <\!-- Everything you want hidden at 940px or less, place within here --\>\n            <div class="nav-collapse">\n            <\!-- .nav, .navbar-search, .navbar-form, etc --\>\n            </div>\n            <\!--\n            <ul class="nav pull-right">\n                <li>asdf</li>\n            </ul>\n            --\>\n        </div>\n    </div>\n</div>',
"dojorama/ui/_global/mixin/_PlayerMixin":function(){define("dojorama/ui/_global/mixin/_PlayerMixin",["dojo/_base/declare","../widget/PlayerWidget"],function(a,c){return a([],{playerWidget:null,postCreate:function(){this.inherited(arguments);this.playerWidget=new c({session:this.session},this.playerNode)},startup:function(){this.inherited(arguments);this.playerWidget.startup()},showPlayer:function(){this.playerWidget.show()}})})},"dojorama/ui/_global/widget/PlayerWidget":function(){require({cache:{"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'<div class="well well-large player">\n    <h2>Play &amp; Browse</h2>\n    \n    <div class="btn-group">\n        <a class="btn" href="#" data-dojo-attach-point="prevNode"><i class="icon-backward"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="playNode"><i class="icon-play"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="nextNode"><i class="icon-forward"></i></a>\n    </div>\n    \n    <div data-dojo-attach-point="infoNode" class="info">\n        Track <span data-dojo-attach-point="trackNrNode"></span> of <span data-dojo-attach-point="numTracksNode"></span>\n        <span data-dojo-attach-point="positionOuterNode" style="display:none">\n            // <span data-dojo-attach-point="positionNode"></span>\n        </span>\n        <h2 class="track-title" data-dojo-attach-point="trackTitleNode">Title</h2>\n        <\!--<p class="track-artist" data-dojo-attach-point="trackArtistNode">Artist</p>--\>\n    </div>\n    \n    <p><a href="http://www.kompakt.fm/releases/we_are_really_sorry_880319606335">We are really sorry</a>! That\'s right, thanks <a href="http://www.facebook.com/pages/Pachanga-Boys-Hippie-Dance/315216318504660">Pachanga Boys</a></p>\n</div>'}});
define("dojorama/ui/_global/widget/PlayerWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/dom-style,dojo/dom-class,dojo/on,dojo/query,dojo/_base/lang,dojo/_base/array,dojo-sm2-playlist/Playlist,dojo/text!./template/PlayerWidget.html".split(","),function(a,c,d,e,g,j,f,i,h,b,m,n,k){return a([c,d,e,g],{session:null,templateString:k,constructor:function(b){this.session=b.session},postCreate:function(){this.inherited(arguments);var a=this.session.get("playlist"),
c=h("i",this.playNode)[0],d=function(){f.remove(c,"icon-pause");f.add(c,"icon-play")},e=function(){f.remove(c,"icon-play");f.add(c,"icon-pause")},g=function(){this.trackNrNode.innerHTML=a.getCurrentPosition();this.numTracksNode.innerHTML=a.getTracks().length;this.trackTitleNode.innerHTML=a.getCurrentTrack().title},k=function(){j.set(this.positionOuterNode,"display","inline")},s=function(){var b=this.positionNode,c=Math.round(a.getCurrentSound().position/1E3),c=parseInt(c,10),d=3600<=c?Math.floor(c/
3600):0,f=60<=c-3600*d?Math.floor((c-3600*d)/60):0,e=c-3600*d-60*f,e=10>e?"0"+e:e;b.innerHTML=3600>c?f+":"+e:d+":"+(10>f?"0"+f:f)+":"+e},o=function(){this.positionNode.innerHTML="0:00"};a||(a=new n,a.onready(function(){a.addTrack({title:"Pachanga Voice",artist:"Pachanga Boys",cover:""},{id:"pachangaVoice",url:"http://media.kompakt.fm/dojorama/pachanga-boys-pachanga-voice.mp3"});a.addTrack({title:"The River",artist:"Pachanga Boys",cover:""},{id:"theRiver",url:"http://media.kompakt.fm/dojorama/pachanga-boys-the-river.mp3"});
a.addTrack({title:"Vampiros Hermanos",artist:"Pachanga Boys",cover:""},{id:"vampirosHermanos",url:"http://media.kompakt.fm/dojorama/pachanga-boys-vampiros-hermanos.mp3"});a.addTrack({title:"Fiesta Forever (Reprise)",artist:"Pachanga Boys",cover:""},{id:"fiestaForever",url:"http://media.kompakt.fm/dojorama/pachanga-boys-fiesta-forever.mp3"})}),this.session.set("playlist",a));a.onready(b.hitch(this,function(){a.isPlaying()?(b.hitch(this,e)(),b.hitch(this,k)()):b.hitch(this,d)();b.hitch(this,g)()}));
m.forEach(a.getTracks(),b.hitch(this,function(c){this.own(i(c,"onplay",b.hitch(this,function(){b.hitch(this,k)();b.hitch(this,o)()})));this.own(i(c,"onfinish",b.hitch(this,function(){a.next();b.hitch(this,e)();b.hitch(this,g)()})));this.own(i(c,"whileplaying",b.hitch(this,function(){b.hitch(this,s)()})))}));this.own(i(this.playNode,"click",b.hitch(this,function(c){c.preventDefault();a.isPlaying()?(a.pause(),b.hitch(this,d)()):(a.play(),b.hitch(this,e)(),b.hitch(this,g)())})));this.own(i(this.prevNode,
"click",b.hitch(this,function(c){c.preventDefault();a.previous();b.hitch(this,e)();b.hitch(this,g)();b.hitch(this,o)()})));this.own(i(this.nextNode,"click",b.hitch(this,function(c){c.preventDefault();a.next();b.hitch(this,e)();b.hitch(this,g)();b.hitch(this,o)()})))}})})},"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'<div class="well well-large player">\n    <h2>Play &amp; Browse</h2>\n    \n    <div class="btn-group">\n        <a class="btn" href="#" data-dojo-attach-point="prevNode"><i class="icon-backward"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="playNode"><i class="icon-play"></i></a>\n        <a class="btn" href="#" data-dojo-attach-point="nextNode"><i class="icon-forward"></i></a>\n    </div>\n    \n    <div data-dojo-attach-point="infoNode" class="info">\n        Track <span data-dojo-attach-point="trackNrNode"></span> of <span data-dojo-attach-point="numTracksNode"></span>\n        <span data-dojo-attach-point="positionOuterNode" style="display:none">\n            // <span data-dojo-attach-point="positionNode"></span>\n        </span>\n        <h2 class="track-title" data-dojo-attach-point="trackTitleNode">Title</h2>\n        <\!--<p class="track-artist" data-dojo-attach-point="trackArtistNode">Artist</p>--\>\n    </div>\n    \n    <p><a href="http://www.kompakt.fm/releases/we_are_really_sorry_880319606335">We are really sorry</a>! That\'s right, thanks <a href="http://www.facebook.com/pages/Pachanga-Boys-Hippie-Dance/315216318504660">Pachanga Boys</a></p>\n</div>',
"dojorama/ui/_global/mixin/_FooterMixin":function(){define("dojorama/ui/_global/mixin/_FooterMixin",["dojo/_base/declare","../widget/FooterWidget"],function(a,c){return a([],{footerWidget:null,postCreate:function(){this.inherited(arguments);this.footerWidget=new c({router:this.router},this.footerNode)},startup:function(){this.inherited(arguments);this.footerWidget.startup()},showFooter:function(){this.footerWidget.show()}})})},"dojorama/ui/_global/widget/FooterWidget":function(){require({cache:{"url:dojorama/ui/_global/widget/template/FooterWidget.html":'<div class="footer">\n    <div class="container">\n        <\!--<p class="pull-right"><a href="#">Back to top</a></p>--\>\n        <p>Dojorama is written by <a href="http://sirprize.me">sirprize</a>, hosted on <a href="http://github.com/sirprize/dojorama">Github</a> and released under the <a href="http://opensource.org/licenses/mit-license.php">MIT license</a>.</p>\n        <\!--\n        <ul class="footer-links">\n            <li><a href="">aaa</a></li>\n            <li><a href="">bbb</a></li>\n        </ul>\n        --\>\n    </div>\n</div>'}});
define("dojorama/ui/_global/widget/FooterWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/text!./template/FooterWidget.html,dojo/i18n!./nls/FooterWidget".split(","),function(a,c,d,e,g,j){return a([c,d,e,g],{router:null,templateString:j,constructor:function(a){this.router=a.router},postCreate:function(){this.inherited(arguments);this.hide()}})})},"url:dojorama/ui/_global/widget/template/FooterWidget.html":'<div class="footer">\n    <div class="container">\n        <\!--<p class="pull-right"><a href="#">Back to top</a></p>--\>\n        <p>Dojorama is written by <a href="http://sirprize.me">sirprize</a>, hosted on <a href="http://github.com/sirprize/dojorama">Github</a> and released under the <a href="http://opensource.org/licenses/mit-license.php">MIT license</a>.</p>\n        <\!--\n        <ul class="footer-links">\n            <li><a href="">aaa</a></li>\n            <li><a href="">bbb</a></li>\n        </ul>\n        --\>\n    </div>\n</div>',
"dojorama/ui/storage/mixin/_StorageBreadcrumbsMixin":function(){define("dojorama/ui/storage/mixin/_StorageBreadcrumbsMixin",["dojo/_base/declare","../../_global/widget/BreadcrumbsWidget","dojo/i18n!./nls/_StorageBreadcrumbsMixin"],function(a,c,d){return a([],{breadcrumbsWidget:null,breadcrumbsItems:{},postCreate:function(){this.inherited(arguments);this.breadcrumbsWidget=new c({},this.breadcrumbsNode);this.breadcrumbsItems.home={label:d.homeLabel,url:this.router.getRoute("home").assemble()};this.breadcrumbsItems.storageIndex=
{label:d.storageIndexLabel,url:this.router.getRoute("storage").assemble()}},startup:function(){this.inherited(arguments);this.breadcrumbsWidget.startup()},setStorageIndexBreadcrumbsItems:function(){this.breadcrumbsWidget.set("items",[this.breadcrumbsItems.home,this.breadcrumbsItems.storageIndex])},showStorageBreadcrumbs:function(){this.breadcrumbsWidget.show()}})})},"dojorama/ui/_global/widget/BreadcrumbsWidget":function(){require({cache:{"url:dojorama/ui/_global/widget/template/BreadcrumbsWidget.html":'<ul class="breadcrumb"></ul>'}});
define("dojorama/ui/_global/widget/BreadcrumbsWidget","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojomat/_StateAware,../mixin/_ToggleMixin,dojo/on,dojo/_base/lang,dojo/_base/array,dojo/dom-construct,dojo/text!./template/BreadcrumbsWidget.html".split(","),function(a,c,d,e,g,j,f,i,h,b){return a([c,d,e,g],{divider:"/",templateString:b,constructor:function(a){this.divider=a.divider||this.divider},postCreate:function(){this.inherited(arguments);this.hide()},_setItemsAttr:function(a){for(var b=
0,c=function(a){var b=h.create("li",{},this.domNode,"last"),c=h.create("a",{href:a.url,innerHTML:a.label},b,"last"),d=document.createTextNode(" ");h.create("span",{"class":"divider",innerHTML:this.divider},b,"last");h.place(d,c,"after");this.own(j(c,"click",f.hitch(this,function(b){b.preventDefault();this.push(a.url)})))},b=0;b<a.length-1;b+=1)f.hitch(this,c)(a[b]);h.create("li",{"class":"active",innerHTML:a[a.length-1].label},this.domNode,"last")}})})},"url:dojorama/ui/_global/widget/template/BreadcrumbsWidget.html":'<ul class="breadcrumb"></ul>',
"url:dojorama/ui/storage/template/StoragePage.html":'<div>\n    <div data-dojo-attach-point="navigationNode"></div>\n\n    <div class="container main">\n        <ul data-dojo-attach-point="breadcrumbsNode"></ul>\n        \n        <div data-dojo-attach-point="mainNode">\n            <h1>Storage</h1>\n            <\!--<button class="btn" data-dojo-attach-event="onclick:_onNewObjClick">New Obj</button>\n            <button class="btn" data-dojo-attach-event="onclick:_onRemObjClick">Remove Obj</button>--\>\n            \n            <div class="well well-large">\n                <div style="overflow:auto">\n                    <table class="table table-striped local-storage-data">\n                        <thead>\n                            <th>Id</th>\n                            <th>Data</th>\n                        </thead>\n                        <tbody data-dojo-attach-point="tbodyNode"></tbody>\n                    </table>\n                </div>\n                \n                <button class="btn" data-dojo-attach-event="onclick:_onClearClick">Clear</button>\n            </div>\n        </div>\n    \n        <div data-dojo-attach-point="playerNode"></div>\n    </div>\n    \n    <div data-dojo-attach-point="footerNode"></div>\n</div>',
"url:dojorama/styles/inline/ui/storage/StoragePage.css":"body {background: white;}","*now":function(a){a(['dojo/i18n!*preload*dojorama/layers/nls/storage*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("dojorama/layers/storage",[],1);