//>>built
define("xstyle/ext/bind",["xstyle/xstyle"],function(v){return module={onProperty:function(q,d,l){if("bind"==q)l.then=function(a){require(d[1].args,function(b){a(bind(b))})};else{for(var b,e=[],r=0,h=0,s=1,k=[],w=!1,c=[],t=d.sort?d:[d],n=0;n<t.length;n++){var p=t[n];c.push(p instanceof String?x(p):p.replace(/[a-zA-Z_$][\w_$\.]*/g,function(a){var m=r++,f=a.split(".");e.push(f);for(a=l;!b&&(a=a.parent);)b=a.rules[f[0]];b||(b=window[f[0]]);b||(b="not found");s++;bind.when(b,function(a){for(var b=1;b<
f.length;b++)a=a.get(f[b]);e[m]=a;done()});return u(m)}))}var c=c.join(""),x=function(a){var b=r++;e[b]=a;return u(b)},u=function(a){a="arguments["+a+"]";h+=a.length;return a};if(c.length>h)var y=new Function("return "+c);l.then=function(a){function m(){if(0==--s){if(c.length>h){var a=bind(new Function("return "+c));b=w?{call:function(g){b=a.to(e)}}:a.to(e)}else b=e[0];for(var g=0;g<k.length;g++)k[g](b);k=null}}k?k.push(a):a(b);b||m()};v.addRenderer(q,d,l,function(a){for(var c=bind(a),f=0;f<e.length;f++){var g=
a,d=e[f];do var k=g[d[0]];while(!k&&g!=window&&(g=g.parentNode||window));bind.when(b,function(a){for(var b=1;b<d.length;b++)a=a.get(d[b]);e[position]=a;done()})}y;var h=l.get("eachFunction");h&&(c.each=function(b){try{var c=h(a,b);c.xItem=b;return c}catch(d){console.error(d),a.appendChild(document.createElement("span")).appendChild(document.createTextNode(d))}});bind.when(b,function(a){c.to(a)})})}}}});