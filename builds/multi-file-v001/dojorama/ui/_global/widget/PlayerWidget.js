//>>built
require({cache:{"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'\x3cdiv class\x3d"well well-lg player"\x3e\n    \x3cp\x3ePlay \x26amp; Browse\x3c/p\x3e\n    \n    \x3cdiv class\x3d"btn-group"\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"prevNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-backward"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"playNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-play"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"nextNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-forward"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"infoNode" class\x3d"info"\x3e\n        Track \x3cspan data-dojo-attach-point\x3d"trackNrNode"\x3e\x3c/span\x3e of \x3cspan data-dojo-attach-point\x3d"numTracksNode"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"positionOuterNode" style\x3d"display:none"\x3e\n            // \x3cspan data-dojo-attach-point\x3d"positionNode"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n        \x3ch2 class\x3d"track-title" data-dojo-attach-point\x3d"trackTitleNode"\x3eTitle\x3c/h2\x3e\n        \x3c!--\x3cp class\x3d"track-artist" data-dojo-attach-point\x3d"trackArtistNode"\x3eArtist\x3c/p\x3e--\x3e\n    \x3c/div\x3e\n    \n    \x3cp\x3e\x3ca href\x3d"http://www.kompakt.fm/releases/we_are_really_sorry_880319606335"\x3eWe are really sorry\x3c/a\x3e! That\'s right, thanks \x3ca href\x3d"http://www.facebook.com/pages/Pachanga-Boys-Hippie-Dance/315216318504660"\x3ePachanga Boys\x3c/a\x3e\x3c/p\x3e\n\x3c/div\x3e'}});
define("dojorama/ui/_global/widget/PlayerWidget","dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_StateAware ../mixin/_ToggleMixin dojo/dom-style dojo/dom-class dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo-sm2-playlist/Playlist dojo/text!./template/PlayerWidget.html".split(" "),function(l,m,s,t,u,v,h,c,w,a,x,y,z){return l([m,s,t,u],{session:null,templateString:z,constructor:function(a){this.session=a.session},postCreate:function(){this.inherited(arguments);var b=this.session.get("playlist"),
k=w("span",this.playNode)[0],q=function(){h.remove(k,"glyphicon-pause");h.add(k,"glyphicon-play")},e=function(){h.remove(k,"glyphicon-play");h.add(k,"glyphicon-pause")},g=function(){this.trackNrNode.innerHTML=b.getCurrentPosition();this.numTracksNode.innerHTML=b.getTracks().length;this.trackTitleNode.innerHTML=b.getCurrentTrack().title},r=function(){v.set(this.positionOuterNode,"display","inline")},l=function(){var a=this.positionNode,d;d=Math.round(b.getCurrentSound().position/1E3);d=parseInt(d,
10);var c=3600<=d?Math.floor(d/3600):0,e=60<=d-3600*c?Math.floor((d-3600*c)/60):0,f=d-3600*c-60*e,f=10>f?"0"+f:f;d=3600>d?e+":"+f:c+":"+(10>e?"0"+e:e)+":"+f;a.innerHTML=d},p=function(){this.positionNode.innerHTML="0:00"},m=function(a){a.addTrack({title:"Pachanga Voice",artist:"Pachanga Boys",cover:""},{id:"pachangaVoice",url:"http://media.kompakt.fm/dojorama/pachanga-boys-pachanga-voice.mp3"});a.addTrack({title:"The River",artist:"Pachanga Boys",cover:""},{id:"theRiver",url:"http://media.kompakt.fm/dojorama/pachanga-boys-the-river.mp3"});
a.addTrack({title:"Vampiros Hermanos",artist:"Pachanga Boys",cover:""},{id:"vampirosHermanos",url:"http://media.kompakt.fm/dojorama/pachanga-boys-vampiros-hermanos.mp3"});a.addTrack({title:"Fiesta Forever (Reprise)",artist:"Pachanga Boys",cover:""},{id:"fiestaForever",url:"http://media.kompakt.fm/dojorama/pachanga-boys-fiesta-forever.mp3"})};b||(b=new y);this.session.set("playlist",b);b.onready(a.hitch(this,function(){b.getTracks().length||m(b);b.isPlaying()?(a.hitch(this,e)(),a.hitch(this,r)()):
a.hitch(this,q)();a.hitch(this,g)();x.forEach(b.getTracks(),a.hitch(this,function(n){this.own(c(n,"onplay",a.hitch(this,function(b){a.hitch(this,r)();a.hitch(this,p)()})));this.own(c(n,"onfinish",a.hitch(this,function(d){b.next();a.hitch(this,e)();a.hitch(this,g)()})));this.own(c(n,"whileplaying",a.hitch(this,function(b){a.hitch(this,l)()})))}))}));this.own(c(this.playNode,"click",a.hitch(this,function(c){c.preventDefault();b.isPlaying()?(b.pause(),a.hitch(this,q)()):(b.play(),a.hitch(this,e)(),a.hitch(this,
g)())})));this.own(c(this.prevNode,"click",a.hitch(this,function(c){c.preventDefault();b.previous();a.hitch(this,e)();a.hitch(this,g)();a.hitch(this,p)()})));this.own(c(this.nextNode,"click",a.hitch(this,function(c){c.preventDefault();b.next();a.hitch(this,e)();a.hitch(this,g)();a.hitch(this,p)()})))}})});
//@ sourceMappingURL=PlayerWidget.js.map