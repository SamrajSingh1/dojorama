//>>built
require({cache:{"dojorama/ui/storage/widget/RowWidget":function(){define(["dojo/_base/declare","mijit/_WidgetBase","mijit/_TemplatedMixin"],function(a,b,d,e){return a([b,d],{templateString:'\x3ctr\x3e\x3ctd data-dojo-attach-point\x3d"idNode"\x3e\x3c/td\x3e\x3ctd data-dojo-attach-point\x3d"dataNode"\x3e\x3c/td\x3e\x3c/tr\x3e',_setIdAttr:function(a){this.idNode.innerHTML=a;this._set("id",a)},_setDataAttr:function(a){this.dataNode.innerHTML=a;this._set("data",a)}})})},"dojorama/ui/storage/StoragePage":function(){define("dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_AppAware dojomat/_StateAware ../_global/mixin/_NavigationMixin ../_global/mixin/_PlayerMixin ../_global/mixin/_FooterMixin ./mixin/_StorageBreadcrumbsMixin dojo-local-storage/LocalStorage dojo/store/Observable dojo/_base/array dojo/_base/lang dojo/_base/json dojo/text!./template/StoragePage.html ./widget/RowWidget dojo/text!../../styles/inline/ui/storage/StoragePage.css".split(" "),
function(a,b,d,e,f,l,g,h,k,c,n,p,m,r,s,t,u){return a([b,d,e,f,l,g,h,k],{router:null,request:null,session:null,templateString:s,store:null,observer:null,result:null,itemWidgets:[],constructor:function(a){this.router=a.router;this.request=a.request;this.session=a.session;this.store=n(new c)},postCreate:function(){this.inherited(arguments);this.setCss(u,"all");this.setTitle("Storage");this.setStorageIndexBreadcrumbsItems()},startup:function(){this.inherited(arguments);this.showNavigation();this.showFooter();
this.fetchItems();this.showStorageBreadcrumbs()},fetchItems:function(){this.result=this.store.query({},{sort:[{attribute:"id",descending:!1}]});this.destroyItemWidgets();this.observer&&this.observer.remove&&this.observer.remove();this.observer=this.result.observe(m.hitch(this,function(c,a,r){this.fetchItems()},!0));this.result.forEach(m.hitch(this,function(c){var a=this.itemWidgets.length;this.itemWidgets[a]=(new t({})).placeAt(this.tbodyNode);this.itemWidgets[a].set("id",this.store.getIdentity(c));
this.itemWidgets[a].set("data",r.toJson(c));this.itemWidgets[a].startup()}))},destroyItemWidgets:function(){p.forEach(this.itemWidgets,m.hitch(this,function(c,a){c.destroy()}));this.itemWidgets=[]},_onClearClick:function(c){localStorage.clear();this.destroyItemWidgets()}})})},"dojorama/ui/_global/mixin/_NavigationMixin":function(){define(["dojo/_base/declare","../widget/NavigationWidget"],function(a,b){return a([],{navigationWidget:null,postCreate:function(){this.inherited(arguments);this.navigationWidget=
new b({router:this.router},this.navigationNode)},startup:function(){this.inherited(arguments);this.navigationWidget.startup()},showNavigation:function(){this.navigationWidget.show()}})})},"dojorama/ui/_global/widget/NavigationWidget":function(){define("dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_StateAware ../mixin/_ToggleMixin dojo/on dojo/_base/lang dojo/text!./template/NavigationWidget.html dojo/i18n!./nls/NavigationWidget".split(" "),function(a,b,d,e,f,l,g,h,k){return a([b,
d,e,f],{router:null,templateString:h,constructor:function(c){this.router=c.router},postCreate:function(){var c=function(c,a,b){c.innerHTML=a;c.href=b;this.own(l(c,"click",g.hitch(this,function(c){c.preventDefault();this.pushState(b)})))};this.inherited(arguments);this.hide();g.hitch(this,c)(this.homeNode,k.labelHome,this.router.getRoute("home").assemble());g.hitch(this,c)(this.releaseIndexNode,k.labelReleaseIndex,this.router.getRoute("releaseIndex").assemble());g.hitch(this,c)(this.storageNode,k.labelStorage,
this.router.getRoute("storage").assemble())}})})},"dojorama/ui/_global/mixin/_ToggleMixin":function(){define(["dojo/_base/declare","dojo/dom-style"],function(a,b){return a([],{show:function(){b.set(this.domNode,{display:"block"})},hide:function(){b.set(this.domNode,{display:"none"})}})})},"dojorama/ui/_global/mixin/_PlayerMixin":function(){define(["dojo/_base/declare","../widget/PlayerWidget"],function(a,b){return a([],{playerWidget:null,postCreate:function(){this.inherited(arguments);this.playerWidget=
new b({session:this.session},this.playerNode)},startup:function(){this.inherited(arguments);this.playerWidget.startup()},showPlayer:function(){this.playerWidget.show()}})})},"dojorama/ui/_global/widget/PlayerWidget":function(){define("dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_StateAware ../mixin/_ToggleMixin dojo/dom-style dojo/dom-class dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo-sm2-playlist/Playlist dojo/text!./template/PlayerWidget.html".split(" "),function(a,
b,d,e,f,l,g,h,k,c,n,p,m){return a([b,d,e,f],{session:null,templateString:m,constructor:function(c){this.session=c.session},postCreate:function(){this.inherited(arguments);var a=this.session.get("playlist"),b=k("span",this.playNode)[0],d=function(){g.remove(b,"glyphicon-pause");g.add(b,"glyphicon-play")},e=function(){g.remove(b,"glyphicon-play");g.add(b,"glyphicon-pause")},f=function(){this.trackNrNode.innerHTML=a.getCurrentPosition();this.numTracksNode.innerHTML=a.getTracks().length;this.trackTitleNode.innerHTML=
a.getCurrentTrack().title},m=function(){l.set(this.positionOuterNode,"display","inline")},v=function(){var c=this.positionNode,b;b=Math.round(a.getCurrentSound().position/1E3);b=parseInt(b,10);var d=3600<=b?Math.floor(b/3600):0,e=60<=b-3600*d?Math.floor((b-3600*d)/60):0,f=b-3600*d-60*e,f=10>f?"0"+f:f;b=3600>b?e+":"+f:d+":"+(10>e?"0"+e:e)+":"+f;c.innerHTML=b},q=function(){this.positionNode.innerHTML="0:00"},w=function(a){a.addTrack({title:"Pachanga Voice",artist:"Pachanga Boys",cover:""},{id:"pachangaVoice",
url:"http://media.kompakt.fm/dojorama/pachanga-boys-pachanga-voice.mp3"});a.addTrack({title:"The River",artist:"Pachanga Boys",cover:""},{id:"theRiver",url:"http://media.kompakt.fm/dojorama/pachanga-boys-the-river.mp3"});a.addTrack({title:"Vampiros Hermanos",artist:"Pachanga Boys",cover:""},{id:"vampirosHermanos",url:"http://media.kompakt.fm/dojorama/pachanga-boys-vampiros-hermanos.mp3"});a.addTrack({title:"Fiesta Forever (Reprise)",artist:"Pachanga Boys",cover:""},{id:"fiestaForever",url:"http://media.kompakt.fm/dojorama/pachanga-boys-fiesta-forever.mp3"})};
a||(a=new p);this.session.set("playlist",a);a.onready(c.hitch(this,function(){a.getTracks().length||w(a);a.isPlaying()?(c.hitch(this,e)(),c.hitch(this,m)()):c.hitch(this,d)();c.hitch(this,f)();n.forEach(a.getTracks(),c.hitch(this,function(b){this.own(h(b,"onplay",c.hitch(this,function(a){c.hitch(this,m)();c.hitch(this,q)()})));this.own(h(b,"onfinish",c.hitch(this,function(b){a.next();c.hitch(this,e)();c.hitch(this,f)()})));this.own(h(b,"whileplaying",c.hitch(this,function(a){c.hitch(this,v)()})))}))}));
this.own(h(this.playNode,"click",c.hitch(this,function(b){b.preventDefault();a.isPlaying()?(a.pause(),c.hitch(this,d)()):(a.play(),c.hitch(this,e)(),c.hitch(this,f)())})));this.own(h(this.prevNode,"click",c.hitch(this,function(b){b.preventDefault();a.previous();c.hitch(this,e)();c.hitch(this,f)();c.hitch(this,q)()})));this.own(h(this.nextNode,"click",c.hitch(this,function(b){b.preventDefault();a.next();c.hitch(this,e)();c.hitch(this,f)();c.hitch(this,q)()})))}})})},"dojorama/ui/_global/mixin/_FooterMixin":function(){define(["dojo/_base/declare",
"../widget/FooterWidget"],function(a,b){return a([],{footerWidget:null,postCreate:function(){this.inherited(arguments);this.footerWidget=new b({router:this.router},this.footerNode)},startup:function(){this.inherited(arguments);this.footerWidget.startup()},showFooter:function(){this.footerWidget.show()}})})},"dojorama/ui/_global/widget/FooterWidget":function(){define("dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_StateAware ../mixin/_ToggleMixin dojo/text!./template/FooterWidget.html dojo/i18n!./nls/FooterWidget".split(" "),
function(a,b,d,e,f,l,g){return a([b,d,e,f],{router:null,templateString:l,constructor:function(a){this.router=a.router},postCreate:function(){this.inherited(arguments);this.hide()}})})},"dojorama/ui/storage/mixin/_StorageBreadcrumbsMixin":function(){define(["dojo/_base/declare","../../_global/widget/BreadcrumbsWidget","dojo/i18n!./nls/_StorageBreadcrumbsMixin"],function(a,b,d){return a([],{breadcrumbsWidget:null,breadcrumbsItems:{},postCreate:function(){this.inherited(arguments);this.breadcrumbsWidget=
new b({},this.breadcrumbsNode);this.breadcrumbsItems.home={label:d.homeLabel,url:this.router.getRoute("home").assemble()};this.breadcrumbsItems.storageIndex={label:d.storageIndexLabel,url:this.router.getRoute("storage").assemble()}},startup:function(){this.inherited(arguments);this.breadcrumbsWidget.startup()},setStorageIndexBreadcrumbsItems:function(){this.breadcrumbsWidget.set("items",[this.breadcrumbsItems.home,this.breadcrumbsItems.storageIndex])},showStorageBreadcrumbs:function(){this.breadcrumbsWidget.show()}})})},
"dojorama/ui/_global/widget/BreadcrumbsWidget":function(){define("dojo/_base/declare mijit/_WidgetBase mijit/_TemplatedMixin dojomat/_StateAware ../mixin/_ToggleMixin dojo/on dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/text!./template/BreadcrumbsWidget.html".split(" "),function(a,b,d,e,f,l,g,h,k,c){return a([b,d,e,f],{templateString:c,postCreate:function(){this.inherited(arguments);this.hide()},_setItemsAttr:function(a){for(var b=0,c=function(a){var b=k.create("li",{},this.domNode,"last"),
b=k.create("a",{href:a.url,innerHTML:a.label},b,"last");this.own(l(b,"click",g.hitch(this,function(b){b.preventDefault();this.pushState(a.url)})))},b=0;b<a.length-1;b+=1)g.hitch(this,c)(a[b]);k.create("li",{"class":"active",innerHTML:a[a.length-1].label},this.domNode,"last")}})})},"url:dojorama/ui/_global/widget/template/NavigationWidget.html":'\x3cheader class\x3d"navbar navbar-inverse navbar-fixed-top" role\x3d"banner"\x3e\n    \x3cdiv class\x3d"container"\x3e\n        \x3cdiv class\x3d"navbar-header"\x3e\n            \x3cbutton class\x3d"navbar-toggle" type\x3d"button"\x3e\n                \x3cspan class\x3d"sr-only"\x3eToggle navigation\x3c/span\x3e\n                \x3cspan class\x3d"icon-bar"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"icon-bar"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"icon-bar"\x3e\x3c/span\x3e\n            \x3c/button\x3e\n            \x3ca class\x3d"navbar-brand" href\x3d"#" data-dojo-attach-point\x3d"homeNode"\x3e\x3c/a\x3e\n        \x3c/div\x3e\n        \x3cnav class\x3d"collapse navbar-collapse" role\x3d"navigation"\x3e\n            \x3cul class\x3d"nav navbar-nav"\x3e\n                \x3cli\x3e\x3ca href\x3d"#" data-dojo-attach-point\x3d"releaseIndexNode"\x3e\x3c/a\x3e\x3c/li\x3e\n                \x3cli\x3e\x3ca href\x3d"#" data-dojo-attach-point\x3d"storageNode"\x3e\x3c/a\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/nav\x3e\n    \x3c/div\x3e\n\x3c/header\x3e',
"url:dojorama/ui/_global/widget/template/PlayerWidget.html":'\x3cdiv class\x3d"well well-lg player"\x3e\n    \x3cp\x3ePlay \x26amp; Browse\x3c/p\x3e\n    \n    \x3cdiv class\x3d"btn-group"\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"prevNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-backward"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"playNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-play"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3cbutton class\x3d"btn" href\x3d"#" data-dojo-attach-point\x3d"nextNode"\x3e\x3cspan class\x3d"glyphicon glyphicon-forward"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"infoNode" class\x3d"info"\x3e\n        Track \x3cspan data-dojo-attach-point\x3d"trackNrNode"\x3e\x3c/span\x3e of \x3cspan data-dojo-attach-point\x3d"numTracksNode"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"positionOuterNode" style\x3d"display:none"\x3e\n            // \x3cspan data-dojo-attach-point\x3d"positionNode"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n        \x3ch2 class\x3d"track-title" data-dojo-attach-point\x3d"trackTitleNode"\x3eTitle\x3c/h2\x3e\n        \x3c!--\x3cp class\x3d"track-artist" data-dojo-attach-point\x3d"trackArtistNode"\x3eArtist\x3c/p\x3e--\x3e\n    \x3c/div\x3e\n    \n    \x3cp\x3e\x3ca href\x3d"http://www.kompakt.fm/releases/we_are_really_sorry_880319606335"\x3eWe are really sorry\x3c/a\x3e! That\'s right, thanks \x3ca href\x3d"http://www.facebook.com/pages/Pachanga-Boys-Hippie-Dance/315216318504660"\x3ePachanga Boys\x3c/a\x3e\x3c/p\x3e\n\x3c/div\x3e',
"url:dojorama/ui/_global/widget/template/FooterWidget.html":'\x3cfooter class\x3d"footer"\x3e\n    \x3cdiv class\x3d"container"\x3e\n        \x3cp\x3eDojorama is written by \x3ca href\x3d"http://sirprize.me"\x3esirprize\x3c/a\x3e, hosted on \x3ca href\x3d"http://github.com/sirprize/dojorama"\x3eGithub\x3c/a\x3e and released under the \x3ca href\x3d"http://opensource.org/licenses/mit-license.php"\x3eMIT license\x3c/a\x3e.\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/footer\x3e',"url:dojorama/ui/_global/widget/template/BreadcrumbsWidget.html":'\x3col class\x3d"breadcrumb"\x3e\x3c/ol\x3e',
"url:dojorama/ui/storage/template/StoragePage.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"navigationNode"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"container main"\x3e\n        \x3cul data-dojo-attach-point\x3d"breadcrumbsNode"\x3e\x3c/ul\x3e\n        \n        \x3cdiv data-dojo-attach-point\x3d"mainNode"\x3e\n            \x3ch1\x3eStorage\x3c/h1\x3e\n            \x3c!--\x3cbutton class\x3d"btn" data-dojo-attach-event\x3d"onclick:_onNewObjClick"\x3eNew Obj\x3c/button\x3e\n            \x3cbutton class\x3d"btn" data-dojo-attach-event\x3d"onclick:_onRemObjClick"\x3eRemove Obj\x3c/button\x3e--\x3e\n            \n            \x3cdiv class\x3d"well well-lg"\x3e\n                \x3cdiv style\x3d"overflow:auto"\x3e\n                    \x3ctable class\x3d"table table-striped local-storage-data"\x3e\n                        \x3cthead\x3e\n                            \x3cth\x3eId\x3c/th\x3e\n                            \x3cth\x3eData\x3c/th\x3e\n                        \x3c/thead\x3e\n                        \x3ctbody data-dojo-attach-point\x3d"tbodyNode"\x3e\x3c/tbody\x3e\n                    \x3c/table\x3e\n                \x3c/div\x3e\n                \n                \x3cbutton class\x3d"btn" data-dojo-attach-event\x3d"onclick:_onClearClick"\x3eClear\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \n        \x3cdiv data-dojo-attach-point\x3d"playerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"footerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dojorama/styles/inline/ui/storage/StoragePage.css":"body {background: white;}","*now":function(a){a(['dojo/i18n!*preload*dojorama/layers/nls/storage*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("dojorama/layers/storage",[],1);
//@ sourceMappingURL=storage.js.map